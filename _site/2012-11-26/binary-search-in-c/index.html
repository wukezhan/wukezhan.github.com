<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
<title>经典算法之二分查找_指间世界</title>
<link rel="stylesheet" type="text/css" href="/theme/default/css/style.css" />
<link rel="stylesheet" type="text/css" href="/theme/default/css/syntax.css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/wukezhan">
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>
</head>

<body>


<!--[top]-->
<div id="logo">
	<span id="saying">中原王气久消磨，四面军声逼楚歌。仗剑纵横驱虏骑，不教荆棘没铜驼！</span>
	<h1><a href="/">指间世界</a></h1>
</div>
<!--[/top]-->




<div id="wrapper">
    <div id="content">
        <h2 id="post-title">经典算法之二分查找</h2>
        <div id="post-info">
            <span class="post-tags">
                 
                <a class="tag" href="/tag/c/">c</a>
                 
                <a class="tag" href="/tag/search/">search</a>
                
            </span>
            <span class="post-categories">
                 
                <a class="category" href="/category/code/">code</a>
                
            </span>
            <div class="highlight">
                <pre style="padding:5px 20px;">   <code class="php">$author = "<span class="author"><a href="http://www.wukezhan.com" style="color:green;">湛之</a></span>"; <span class="cm">//@since: 2012-11-26</span></code></pre>
            </div>
        </div>
        <div class="post">
            <h3>binary search in c</h3>

<div class="highlight"><pre><code class="c"><span class="lineno"> 1</span> <span class="cp">    #include&lt;stdio.h&gt;</span>
<span class="lineno"> 2</span>     
<span class="lineno"> 3</span>     <span class="kt">int</span> <span class="nf">search</span><span class="p">(</span><span class="kt">int</span> <span class="n">needle</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">haystack</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span>
<span class="lineno"> 4</span>     <span class="p">{</span>
<span class="lineno"> 5</span>         <span class="kt">int</span> <span class="n">low</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="lineno"> 6</span>         <span class="kt">int</span> <span class="n">high</span> <span class="o">=</span> <span class="n">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="lineno"> 7</span>         <span class="kt">int</span> <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span><span class="o">+</span><span class="n">high</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="lineno"> 8</span>     
<span class="lineno"> 9</span>         <span class="k">if</span><span class="p">(</span><span class="n">needle</span><span class="o">&lt;</span><span class="n">haystack</span><span class="p">[</span><span class="n">low</span><span class="p">]</span> <span class="o">||</span> <span class="n">needle</span><span class="o">&gt;</span><span class="n">haystack</span><span class="p">[</span><span class="n">high</span><span class="p">]){</span>
<span class="lineno">10</span>             <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="lineno">11</span>         <span class="p">}</span>
<span class="lineno">12</span>         <span class="k">while</span><span class="p">(</span><span class="n">low</span><span class="o">&lt;=</span><span class="n">high</span><span class="p">){</span>
<span class="lineno">13</span>             <span class="k">if</span><span class="p">(</span><span class="n">haystack</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span><span class="o">&gt;</span><span class="n">needle</span><span class="p">){</span>
<span class="lineno">14</span>                 <span class="n">high</span> <span class="o">=</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="lineno">15</span>             <span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">haystack</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span><span class="o">&lt;</span><span class="n">needle</span><span class="p">){</span>
<span class="lineno">16</span>                 <span class="n">low</span> <span class="o">=</span> <span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
<span class="lineno">17</span>             <span class="p">}</span><span class="k">else</span><span class="p">{</span>
<span class="lineno">18</span>                 <span class="k">return</span> <span class="n">mid</span><span class="p">;</span>
<span class="lineno">19</span>             <span class="p">}</span>
<span class="lineno">20</span>             <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span><span class="o">+</span><span class="n">high</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="lineno">21</span>         <span class="p">}</span>
<span class="lineno">22</span>         <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="lineno">23</span>     <span class="p">}</span>
<span class="lineno">24</span>     
<span class="lineno">25</span>     <span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="lineno">26</span>     <span class="p">{</span>
<span class="lineno">27</span>         <span class="kt">int</span> <span class="n">a</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">};</span>
<span class="lineno">28</span>         <span class="kt">char</span> <span class="n">rs</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="lineno">29</span>         <span class="n">printf</span><span class="p">(</span><span class="s">&quot;input the needle: &quot;</span><span class="p">);</span>
<span class="lineno">30</span>         <span class="n">gets</span><span class="p">(</span><span class="n">rs</span><span class="p">);</span>
<span class="lineno">31</span>         <span class="kt">int</span> <span class="n">ri</span> <span class="o">=</span> <span class="n">atoi</span><span class="p">(</span><span class="n">rs</span><span class="p">);</span>
<span class="lineno">32</span>         <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">search</span><span class="p">(</span><span class="n">ri</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
<span class="lineno">33</span>         <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="lineno">34</span>         <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="lineno">35</span>     <span class="p">}</span>
</code></pre>
</div>




            <p><span class="split-line" style="color:red;">---EOF---</span></p>
<p>
	<span class="license" style="color:green;font-weight:bold;">Code licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>, article under <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.</span>
</p>
        </div>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = 'http://wukezhan.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=wukezhan">comments powered by Disqus.</a></noscript>
    </div>
</div>


<!--[footer]-->
<div id="footer">
	<div id="feed">
		<div class="badget" id="github">
			<a href="http://github.com/wukezhan">
			<span class="service">github</span>
			<span class="info"> </span>
			</a>
		</div>
		<div class="badget" id="twt">
			<a href="http://twitter.com/wukezhan">
			<span class="service">twitter</span>
			<span class="info"> </span>
			</a>
		</div>
		<div class="badget" id="feedburner">
			<a href="http://feeds.feedburner.com/wukezhan">
			<span class="service">rss</span>
			<span class="info"> </span>
			</a>
		</div>
	</div>
	<span style="color:#bbb;font-size:12px">copyright © www.wukezhan.com.</span>
	<p style="clear:both"></p>
</div>
<!--[/footer]-->
<script type="text/javascript" src="/theme/default/js/footer.js"></script>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-16656304-1']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>
</body>
</html>